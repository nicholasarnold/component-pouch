(window.webpackJsonp=window.webpackJsonp||[]).push([[0],[,,,,,,,,function(e,t,a){e.exports=a.p+"static/media/add-button.e93377be.svg"},function(e,t,a){e.exports=a.p+"static/media/minus-button.0eac654a.svg"},function(e,t,a){e.exports=a(22)},,,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),s=a(7),r=a.n(s),o=(a(16),a(1)),c=a(2),i=a(4),u=a(3),m=a(5),p=function(){return l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col"},l.a.createElement("h1",{className:"display-2"},"Component Pouch"),l.a.createElement("h6",{className:"font-italic"},"A component pouch is a small, watertight leather belt pouch that has compartments to hold all the material components and other special items you need to cast your spells.")))},d=function(){return l.a.createElement("header",null,l.a.createElement("div",{className:"header container"},l.a.createElement(p,null)))},h=(a(17),{endpoint:"https://cors-anywhere.herokuapp.com/http://dnd5eapi.co/api/spells/",fetchAllSpells:function(){var e=this;return fetch(this.endpoint).then(function(e){return e.json()}).then(function(t){return t.results.map(function(t){return{id:e.getSpellId(t.url),name:t.name}})})},fetchSpell:function(e){return fetch("".concat(this.endpoint).concat(e)).then(function(e){return e.json()}).then(function(e){return{id:e.index.toString(),name:e.name,material:e.material}})},getSpellId:function(e){return e.split("/").pop()}}),f=(a(18),function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).handleOnChange=function(e){var t=e.target.value;a.setState({search:t}),a.props.filterSpellSuggestions(t)},a.state={search:""},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return l.a.createElement("div",{className:"spell-searchbar row"},l.a.createElement("div",{className:"col"},l.a.createElement("input",{className:"spell-searchbar",type:"text",value:this.state.search,onChange:this.handleOnChange,placeholder:"Enter the name of a spell (e.g., Magic Missile)"})))}}]),t}(l.a.Component)),g=function(){return l.a.createElement("div",{className:"disclaimer row"},l.a.createElement("div",{className:"col"},l.a.createElement("p",null,"Can't find the spell you're looking for? Only spells from the ",l.a.createElement("a",{href:"http://dnd.wizards.com/articles/features/systems-reference-document-srd",target:"_blank",rel:"noopener noreferrer"},"System Reference Document")," are listed below.")))},v=(a(19),a(8)),S=a.n(v),b=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,l=new Array(n),s=0;s<n;s++)l[s]=arguments[s];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(l)))).handleClick=function(e){return a.props.addToSelected(e.target.value)},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this,t="";return"loading"===this.props.status?t=l.a.createElement("div",{className:"alert alert-light",role:"alert"},"Summoning spellbook ..."):"error"===this.props.status?t=l.a.createElement("div",{className:"alert alert-danger",role:"alert"},"The internet demons have counterspelled your summons!",l.a.createElement("br",null),l.a.createElement("small",null,"(Something went wrong with the API request.)")):this.props.spells.length||(t=l.a.createElement("div",{className:"alert alert-dark",role:"alert"},"No spells matched your query; broaden your mind!",l.a.createElement("br",null),l.a.createElement("small",null,"(Or check your spelling.)"))),l.a.createElement("div",{className:"spell-suggestions row"},l.a.createElement("div",{className:"col btn-toolbar"},t,this.props.spells.map(function(t,a){return l.a.createElement("button",{className:"btn btn-light btn-sm",key:a+1,value:t.id,onClick:e.handleClick},l.a.createElement("img",{className:"add-spell-icon",src:S.a,width:"16",height:"16",alt:"Add Spell to Component Pouch"})," ",t.name)})))}}]),t}(l.a.Component),E=(a(20),a(9)),N=a.n(E),O=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,l=new Array(n),s=0;s<n;s++)l[s]=arguments[s];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(l)))).handleOnClick=function(e){var t=e.target.getAttribute("spellid"),n=e.target.getAttribute("spellname");a.props.removeFromSelected(t,n)},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this,t=this.props.spells.length?"":l.a.createElement("small",null,"YOUR COMPONENT POUCH IS EMPTY"),a=l.a.createElement("span",{className:"no-components"},"This spell does not need any material components.");return l.a.createElement("div",{className:"spell-results row"},l.a.createElement("div",{className:"col"},l.a.createElement("h4",{className:"text-uppercase"},"Your Component Pouch"),t,this.props.spells.map(function(t,n){return l.a.createElement("div",{className:"spell-components-result row",key:n},l.a.createElement("div",{className:"col-3"},l.a.createElement("img",{className:"remove-spell-icon",src:N.a,width:"16",height:"16",alt:"Remove Spell from Component Pouch",spellid:t.id.toString(),spellname:t.name,onClick:e.handleOnClick})," ",t.name),l.a.createElement("div",{className:"col-9"},l.a.createElement("p",null,t.material?t.material:a)))})))}}]),t}(l.a.Component),y=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).getAllSpells=function(){h.fetchAllSpells().then(function(e){a.setState({spellsAvailable:e,spellsSuggested:e,status:"done"})}).catch(function(e){a.setState({status:"error"})})},a.filterSpellSuggestions=function(e){var t=a.state.spellsAvailable.filter(function(t){var a=e.toUpperCase();return t.name.toUpperCase().includes(a)});a.setState({spellsSuggested:t})},a.addToSelected=function(e){a.removeFromAvailable(e),a.removeFromSuggestions(e),h.fetchSpell(e).then(function(e){var t=a.state.spellsSelected;t.push(e),a.setState({spellsSelected:t})})},a.removeFromSelected=function(e,t){var n=a.state.spellsSelected.filter(function(t){return t.id!==e});a.setState({spellsSelected:n}),a.addToSpellsAvailable(e,t),a.addToSpellsSuggested(e,t)},a.ascending=function(e,t){return e.id-t.id},a.removeFromAvailable=function(e){var t=a.state.spellsAvailable.filter(function(t){return t.id!==e});a.setState({spellsAvailable:t})},a.removeFromSuggestions=function(e){var t=a.state.spellsSuggested.filter(function(t){return t.id!==e});a.setState({spellsSuggested:t})},a.addToSpellsAvailable=function(e,t){var n=a.state.spellsAvailable,l={id:e,name:t};n.push(l),n.sort(a.ascending),a.setState({spellsAvailable:n})},a.addToSpellsSuggested=function(e,t){var n=a.state.spellsSuggested,l={id:e,name:t};n.push(l),n.sort(a.ascending),a.setState({spellsSuggested:n})},a.state={spellsAvailable:[],spellsSuggested:[],spellsSelected:[],status:"loading"},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){this.getAllSpells()}},{key:"render",value:function(){return l.a.createElement("main",null,l.a.createElement("div",{className:"main container"},l.a.createElement(f,{filterSpellSuggestions:this.filterSpellSuggestions}),l.a.createElement(g,null),l.a.createElement(b,{spells:this.state.spellsSuggested,status:this.state.status,addToSelected:this.addToSelected}),l.a.createElement(O,{spells:this.state.spellsSelected,removeFromSelected:this.removeFromSelected,addToFullList:this.addToFullList,addToSuggestions:this.addToSuggestions})))}}]),t}(l.a.Component),w=(a(21),function(){return l.a.createElement("footer",null,l.a.createElement("div",{className:"footer container"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col text-muted"},l.a.createElement("p",null,"Copyright \xa9 2019 ",l.a.createElement("a",{href:"https://github.com/nicholasarnold",target:"_blank",rel:"noopener noreferrer"},"Nicholas Arnold"))),l.a.createElement("div",{className:"col"},l.a.createElement("p",null,"License: ",l.a.createElement("a",{href:"/legal/"},"MIT"))))))}),j=function(e){function t(){return Object(o.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return l.a.createElement("div",{className:"App"},l.a.createElement(d,null),l.a.createElement(y,null),l.a.createElement(w,null))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(l.a.createElement(j,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}],[[10,1,2]]]);
//# sourceMappingURL=main.dd20c577.chunk.js.map